logger:
  level: debug
  type: text
  output: stdout
# DB and Server confgurations are defaulted for local development
# db:
#   host: localhost
#   port: 5432
#   user: postgres
#   password: changeme
services:
  policy:
    enabled: true
  entitlements:
    providers:
      # - type: keycloak
      #   name: gcp
      #   keycloak:
      #     host: "https://keycloak.example.com/auth"
      #     realm: "test"
      #     clientId: "test"
      #     clientSecret:
      #       fromEnv: "KEYCLOAK_CLIENT_SECRET"

      - type: ldap
        name: ad-1
        ldap:
          baseDN: "dc=dev,dc=example,dc=com"
          host: ""
          port: 389
          bindUsername: ""
          bindPassword:
            fromEnv: "LDAP_BIND_PASSWORD"
          attributeFilters:
            exclude:
              - "objectSid"
              - "objectGUID"
              - "msExchMailboxGuid"
              - "msExchMailboxSecurityDescriptor"
server:
  auth:
    enabled: false
    audience: "http://localhost:9000"
    issuer: http://localhost:8888/auth/realms/opentdf
    clients:
      - "opentdf"
  grpc:
    port: 9000
    reflectionEnabled: true # Default is false
  hsm:
    enabled: true
    # As configured by hsm-init-temporary-keys.sh
    pin: "12345"
    slotlabel: "dev-token"
    keys:
      rsa:
        label: development-rsa-kas
      ec:
        label: development-ec-kas
  http:
    port: 8080
opa:
  embedded: true # Only for local development
